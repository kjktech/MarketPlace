let general = [
    {
        title: "Do I need to have a Afiaanyi.com account to make a Purchase?",
        content: `Yes, you do. Registration is free of charge, click sign up on the upper right hand of the
        screen, fill your details and submit. Verify your account through the verification link sent to
        your mail and then proceed to make a purchase.`
    },
    {
        title: `How can I unsubscribe from your daily newsletter`,
        content: `You can unsubscribe from the Afiaanyi newsletter by clicking the link at the bottom of the daily email received.`
    },
    {
        title: `I cannot access my Afiaanyi account?`,
        content: `Are you signed up? If not, Go to afiaanyi.com and Click on the "Create an account" link at the upper right corner of your screen, input your afiaanyi.com registered email and password and submit. If you are signed in, your name will appear at the top right corner if it does not it means you are not signed up. Click on the sign up link and fill the form to register as a user.`
    },

    {
        title: `How do I reset my Password?`,
        content: `Click the "Forgot Password" link on the login page. Enter the email address associated with your afiaanyi account and click "Submit." A change password email will be sent to your box, follow the instructions to successfully change your password.`
    },
    {
        title: `I have stopped receiving your daily newsletter?`,
        content: `Firstly, check your spam mails, it's possible you have unsubscribed. To subscribe again Go to afiaanyi.com and scroll to the end of the page. Input your email in the box and submit.`
    },
    {
        title: `How do I contact Afiaanyi customer support?`,
        content: `Send a mail to help@afiaanyi.com, or call us on +234 905 300 0056-9, chat with us or tweet at us @afiaanyi`
    },
    {
        title: `Can I place an order and pay on delivery?`,
        content: `We currently do not have the pay on delivery option; all payments are made directly online.`
    },
    {
        title: `What is your office address?`,
        content: `We have our Head Office in Anambra and a Customer Experience center. <br>5, Ridge Road, GRA, Onitsha, Anambra
State.`
    }
];


let payment = [
    {
        title: `How do I make Payment?`,
        content: `Afiaanyi.com has 2 payment options, Wallet and Online payment using the Debit card (Visa, Mastercard and Verve).`
    },
    {
        title: `Can I use my International debit card on afiaanyi.com?`,
        content: `Afiaanyi.com allows only local debit cards for now.        `
    },
    {
        title: `Is my Card Details safe?`,
        content: `Yes, your card details are safe with us. We are in partnership with InterSwitch, which uses SSL Technology to protect your card information.`
    },
    {
        title: `Why can't I use my Debit card?`,
        content: `There could be a series of reasons you cannot use your debit card. We would advise you get your Ipin for visa cards and one time password (OTP) for mastercard to enable you make purchases online. For further details please contact your bank.`
    },
    {
        title: `Can I merge 2 methods of Payment?`,
        content: `Yes, you can. You can merge wallet and card payments. All you have to do when you get to our payment option is to tick the box "Use wallet" and select your preferred options to make a purchase.`
    }
];

let wallet = [
    {
        title: `What is the afiaanyi.com wallet?`,
        content: `The Afiaanyi wallet is like a purse where money can be kept to make purchases.`
    },
    {
        title: `How do I top up my afiaanyi.com wallet?`,
        content: `You can top up your wallet by making a deposit or transfer into our listed banks or using your debit card using the quickteller option. Click here for available payment modes.`
    },
    {
        title: `How do I view my wallet balance?`,
        content: `Go to afiaanyi.com, login, and Click on the drop down arrow by the upper right hand, select wallet.`
    },
    {
        title: `Is the money in my wallet transferable?`,
        content: `The money in your wallet is not transferable from one afiaanyi account to another afiaanyi account, but you can request for a bank refund by sending your bank details to help@afiaanyi.com and we will process a bank refund within 7 business days.`
    },
    {
        title: `Does the money in my wallet expire?`,
        content: `No, there is no expiry date for the money in your wallet. Money in your wallet can be used at any point in time.`
    }
];


let returns = [
    {
        title: `Afiaanyi's return policy`,
        content: `At Afiaanyi, customer satisfaction is key and we ensure what you ordered is what you get but things do get wrong. All returns are made directly to the merchants.
        <br><br>
        All products sold on afiaanyi.com are covered under our 3-7 Day Refund Guarantee. Notify the Merchant of any problems, damages or defects within 3 days of receipt and ensure a return is made within 7 days of receipt. The merchant will give a feedback within 2 days of receipt.`
    },
    {
        title: `How to make a Return`,
        content: `Returns are made to the merchants for every product they sell on Afiaanyi.com. When you receive a product that was bought and paid for on our site, and you find it is not as described or is of low quality, ensure you contact the merchant within 3 days of receipt of product stating reason for return and returns should be delivered to merchant within 7 business days.`
    },
    {
        title: `In making a return`,
        content: `- Ensure the item to be returned is in its original pack with all its accessories, not worn or stained to reduce dispute.<br>
        - Prepare package and send to merchant. Merchant will give you a feedback 3 business days after receipt of returns.<br>
        - Please avoid wearing perfume/make up when trying on Fashion Items to avoid leaving stains on the item.<br>
        NOTE: Shipping fee for every returns can be agreed between you and the merchant.`
    }

];


let products = [

    {

        title: `Products`,
        content: `If you cancel your order before your product has been shipped, we will refund the entire amount.<br>

        If you received the product, we will refund only the cost of the item only in cases where there are defects.<br>

        All refunds are made to your DealDey "wallet". If you would like a bank refund kindly provide your bank details or alternatively you can send your bank details to help@afiaanyi.com and we will process a bank refund in 7 business days.<br>`
    }
]


let serviceDeals = [
    {
        title: `Service Deals`,
        content: `Under City and Travel deals, you can get a full money back refund on any unredeemed, unscheduled coupon within seven days of purchase, unless otherwise stated in the deal fine print. No questions asked.

            After the first seven days but within the deal validity, coupons can ONLY be exchanged for wallet credits to use for future purchases. After that, all sales are final.

            All refunds are made to your Afiaanyi "wallet". If you would like a bank refund kindly provide your bank details or alternatively you can send your bank details to help@afiaanyi.com and we will process a bank refund in 7 business days.`
    }
];


let warranty = [
    {
        title: `What about warranty and hidden costs (sales tax etc.`,
        content: `There are no extra taxes, hidden costs or additional shipping charges. The price mentioned on the website is the final price. What you see is what you pay. Our prices are all inclusive. All taxes are included with the list prices.`
    }
];

let list = [general, payment, wallet, returns, products, serviceDeals, warranty]
let faqWrapper = document.querySelector(".faq__wrapper");
let cards = document.querySelectorAll(".card");
let img = document.querySelectorAll(".card__content img")




//load default content
window.addEventListener("load", function () {



    for (let i = 0; i < general.length; i++) {
        //remove content from faq
        if (i < 1) {
            faqWrapper.innerHTML = "";
        }
        faqWrapper.innerHTML += `
        <div class="faq">

            <h3 class="faq__title">
                ${general[i].title}
                <img class="faq__arrow faq__arrow--opened" src="./themes/base/images/arrow__down.svg">
            </h3>

            <p class="faq__content animated fadeInDown">
                ${general[i].content}
            </p>

        </div>`
    }

    addFaqEvent();

});

let cardIcons = [
    "./themes/base/images/general.svg",
    "./themes/base/images/payment.svg",
    "./themes/base/images/wallet.svg",
    "./themes/base/images/shipping.svg",
    "./themes/base/images/return.svg",
    "./themes/base/images/product.svg",
    "./themes/base/images/services-agreement.svg",
    "./themes/base/images/warranty.svg"
];

let cardIconWhite = [
    "./themes/base/images/general--white.svg",
    "./themes/base/images/payment--white.svg",
    "./themes/base/images/wallet--white.svg",
    "./themes/base/images/shipping--white.svg",
    "./themes/base/images/return--white.svg",
    "./themes/base/images/product--white.svg",
    "./themes/base/images/services-agreement--white.svg",
    "./themes/base/images/warranty--white.svg"
];


for (let a = 0; a < cards.length; a++) {
    cards[a].addEventListener("click", function () {

        for (let i = 0; i < cards.length; i++) {
            if (a !== i) {
                img[i].src = cardIcons[i];
                cards[i].classList.remove("card__active");
            } else {
                img[i].src = cardIconWhite[i];
                cards[i].classList.add("card__active");
            }
        }

        clickedCard = list[a];
        loadFaqs(clickedCard);
    });
}






//for general cards
function loadFaqs(clickedCard) {
    for (let i = 0; i < clickedCard.length; i++) {
        //remove content from faq
        if (i < 1) {
            faqWrapper.innerHTML = "";
        }
        faqWrapper.innerHTML += `
        <div class="faq">

            <h3 class="faq__title" click="alert()">
                ${clickedCard[i].title}
                <img class="faq__arrow faq__arrow--opened" src="./themes/base/images/arrow__down.svg">
            </h3>

            <p class="faq__content animated fadeInDown">
                ${clickedCard[i].content}
            </p>

        </div>

            `

    };

    addFaqEvent();

}




function addFaqEvent() {
    let faqTitle = document.querySelectorAll(".faq__wrapper .faq__title");
    let faqContent = document.querySelectorAll(".faq__wrapper .faq__content");
    let faqArrow = document.querySelectorAll(".faq__wrapper .faq__arrow");

    for (let x = 0; x < faqTitle.length; x++) {
        faqTitle[x].addEventListener("click", function (e) {
            console.log("called");
            faqTitle[x].classList.toggle("faq__title--opened");
            faqContent[x].classList.toggle("faq__content--opened");
            faqArrow[x].classList.toggle("faq__arrow--opened");
        });
    }

    console.log(document.querySelectorAll(".faq__title"));

}


$(function () {
    //caches a jQuery object containing the header element
    var header = $(".header__top-container");
    $(window).scroll(function () {
        var scroll = $(window).scrollTop();

        if (scroll >= 210) {
            header.addClass('header__top-container--shadow');
            let img = document.querySelector(".header__top-container img");
            img.src = "./themes/base/images/logo-white.png";
            var selection = document.querySelector('.greeting') !== null;
            if(selection){
             document.querySelector(".greeting").classList.add("greeting--bg");
             document.querySelector(".user__name").classList.add("user__name--bg");
            }
            let linksHeader = document.querySelectorAll("a.header__nav-link");
            for (let i = 0; i < linksHeader.length; i++) {
                linksHeader[i].classList.add("header__nav-link--bg");
            }
        } else {
            header.removeClass('header__top-container--shadow');
            let img = document.querySelector(".header__top-container img");
            img.src = "./themes/base/images/market-logo.svg";
            var selection = document.querySelector('.greeting') !== null;
            if(selection){
             document.querySelector(".greeting").classList.remove("greeting--bg");
             document.querySelector(".user__name").classList.remove("user__name--bg");
            }
            let linksHeader = document.querySelectorAll("a.header__nav-link");
            for (let i = 0; i < linksHeader.length; i++) {
                linksHeader[i].classList.remove("header__nav-link--bg");
            }
        }
    });
});
